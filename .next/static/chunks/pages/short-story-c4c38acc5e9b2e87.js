(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[249],{5743:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/short-story",function(){return n(8542)}])},8542:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(5893),o=n(9008),s=n.n(o),a=n(7294);function l(){let e=(0,a.useRef)(null),[t,n]=(0,a.useState)(""),[o,l]=(0,a.useState)(()=>""),[c,i]=(0,a.useState)(!1);async function d(e){e.preventDefault(),i(!0);let r=await fetch("/api/short-story",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product:t})}),o=await r.json();console.log("data",o),console.log("data.result",o.result);let s=o.result;console.log("rawResult"),l(s),n(""),i(!1)}return(0,a.useEffect)(()=>{let t=document.querySelector(".copy-icon");t&&t.addEventListener("click",()=>{let t;e.current,e.current&&(t=e.current.textContent);let n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)})},[]),(0,r.jsxs)("div",{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"OpenAI API Starter - Short story generator"}),(0,r.jsx)("meta",{name:"description",content:""}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("main",{className:"flex flex-col items-center justify-center m-20",children:[(0,r.jsx)("h3",{className:"text-slate-900 text-xl mb-3",children:"2-Sentence Horror Story Generator"}),(0,r.jsxs)("p",{className:"text-slate-700 text-lg mb-3",children:["Type your topic in the field below and wait for your 2-sentence horror story."," "]}),(0,r.jsxs)("form",{onSubmit:d,children:[(0,r.jsx)("input",{className:"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-200 rounded mb-2",type:"text",name:"product",placeholder:"Enter a topic like The Wind",value:t,onChange:e=>n(e.target.value)}),(0,r.jsx)("button",{className:"text-sm w-full bg-fuchsia-600 h-7 text-white rounded-2xl mb-10",type:"submit",children:"Generate Story"})]}),c?(0,r.jsx)("p",{children:"Loading... be patient.. may take 30s+"}):o?(0,r.jsxs)("div",{className:"relative w-2/4 ",children:[(0,r.jsx)("div",{className:"rounded-md border-spacing-2 border-slate-900 bg-slate-100 break-words max-w-500 overflow-x-auto ",children:(0,r.jsx)("div",{ref:e,className:"m-5 ",dangerouslySetInnerHTML:{__html:o}})}),(0,r.jsx)("div",{className:"copy-icon absolute top-0 right-0 mt-2 mr-2 cursor-pointer",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-copy",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("rect",{x:"8",y:"8",width:"12",height:"12",rx:"2"}),(0,r.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]})})]}):null]})]})}},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5743)}),_N_E=e.O()}]);